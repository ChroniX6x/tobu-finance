<p-table [value]="groups" dataKey="id" styleClass="p-datatable-customers rowexpand-table">
          <ng-template pTemplate="header" let-group>
            <tr>
              <th style="width: 3rem"></th>
              <th pSortableColumn="group">
                Kategorie <p-sortIcon field="group"></p-sortIcon>
              </th>
              <th pSortableColumn="costs">
                Tats√§chliche Kosten <p-sortIcon field="costs"></p-sortIcon>
              </th>
              <th pSortableColumn="estCosts">
                Angenommene Kosten <p-sortIcon field="estCosts"></p-sortIcon>
              </th>

              <th *ngFor="let participant of participants" pSortableColumn="group.calculatedParticipantPayment[participant]">
                {{participant.name}}<p-sortIcon field="group.calculatedParticipantPayment[participant]"></p-sortIcon>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-group let-expanded="expanded">
            <tr>
              <td>
                <button
                  type="button"
                  pButton
                  pRipple
                  [pRowToggler]="group"
                  class="p-button-text p-button-rounded p-button-plain"
                  [icon]="
                    expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'
                  "
                ></button>
              </td>
              <td>
                <span class="p-column-title">Name</span>{{ group.name }}
              </td>
              <td>
                {{ group.costs }}
              </td>
              <td>
                {{ group.estCosts }}
              </td>
              <td *ngFor="let participant of participants">
                {{group.calculatedParticipantPayments[participant.name]}}
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="rowexpansion" let-group>
            <tr>
              <td colspan="5">
                <div class="p-3">
                  <p-table [value]="group.positions" dataKey="id">
                    <ng-template pTemplate="header">
                      <tr>
                        <th pSortableColumn="id">
                          Id <p-sortIcon field="price"></p-sortIcon>
                        </th>
                        <th pSortableColumn="customer">
                          Customer <p-sortIcon field="customer"></p-sortIcon>
                        </th>
                        <th pSortableColumn="date">
                          Date <p-sortIcon field="date"></p-sortIcon>
                        </th>
                        <th pSortableColumn="amount">
                          Amount <p-sortIcon field="amount"></p-sortIcon>
                        </th>
                        <th pSortableColumn="stats">
                          Status <p-sortIcon field="status"></p-sortIcon>
                        </th>
                        <th style="width: 4rem"></th>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-order>
                      <tr>
                        <td>
                          <span class="p-column-title">Id</span>{{ order.id }}
                        </td>
                        <td>
                          <span class="p-column-title">Customer</span
                          >{{ order.customer }}
                        </td>
                        <td>
                          <span class="p-column-title">Date</span
                          >{{ order.date }}
                        </td>
                        <td>
                          <span class="p-column-title">Amount</span
                          >{{ order.amount | currency: "USD" }}
                        </td>
                        <td>
                          <span class="p-column-title">Status</span
                          ><span
                            [class]="
                              'order-badge order-' + order.status.toLowerCase()
                            "
                            >{{ order.status }}</span
                          >
                        </td>
                        <td>
                          <p-button
                            type="button"
                            icon="pi pi-search"
                          ></p-button>
                        </td>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                      <tr>
                        <td colspan="6">
                          There are no order for this product yet.
                        </td>
                      </tr>
                    </ng-template>
                  </p-table>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
